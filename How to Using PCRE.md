###### 이 글에서는 PCRE(Perl Compatible Regular Expressions) 사용법에 대해 설명한다.
> https://github.com/wooodonggyu/yara/blob/master/How%20to%20Using%20PCRE.md

## **What is Regular Expression?**

`정규 표현식(Regular Expression)` 이란, 사전적인 의미로는 특정한 규칙을 가진 문자열의 집합을 표현하는데 사용하는 형식 언어이다. 주로 프로그래밍 언어 또는 Text Editor 등에서 문자열의 검색과 치환을 위한 용도로 쓰이고 있다. 표현 방법으로는 표준인 POSIX 의 정규표현식과 확장된 Perl 방식의 PCRE 가 대표적이며, 이 외에도 수 많은 정규 표현식이 존재하며, 정규 표현식 간의 약간의 차이점은 있지만 거의 비슷하다.

## **What is PCRE?**

`PCRE(Perl Compatible Regular Expressions)` 란, Perl 프로그래밍 언어의 정규 표현식 기능에 착안하여 만든 정규 표현식 C 라이브러리로서, POSIX 정규 표현식이나 수많은 전통적인 정규 표현식 라이브러리들 보다 더 강력하고 유연하다.

## **How to Using PCRE?** 

- **정규식 메타 문자** : `메타 문자`는 특정한 문자 혹은 문자 계열을 대신하여 표시하는 문자이다. 메타 문자를 이용하면 특정한 규칙을 가진 여러 단어를 하나의 패턴으로 함축 할 수 있다.
    
    * `^` : 문자열의 시작을 나타낸다.

    * `$` : 문자열의 끝을 나타낸다.
    
    * `\b` : 문자와 공백(또는 문자가 아닌 문자) 사이의 문자를 나타낸다.
    
    * `\B` : 문자와 공백 사이의 문자가 아닌 것을 나타낸다.
    
    * `\d` : 숫자를 나타낸다.
    
    * `\D` : 숫자가 아닌 것을 나타낸다.
    
    * `\s` : 공백 및 탭 문자를 나타낸다.
    
    * `\S` : 공백 문자가 아닌 것을 나타낸다.
    
    * `\w` : 알파벳 대소문자, 숫자, 언더바(_)를 나타낸다.
    
    * `\W` : \w 가 아닌 것을 나타낸다.
    
    * `\` : 이스케이프용 문자. 정규식 상의 특별한 의미가 있는 기호들을 문자 그대로 사용하고 싶을 때 사용한다.

    * `.` : 임의의 한 문자를 나타낸다.

&nbsp;
    
- **선택 패턴** : `|(파이프)` 문자를 이용하면 `or` 과 같이 매칭된다. 예를 들어, 문자열 "Hi" 와 "Hello" 를 매칭하고 싶은 경우, "Hi|Hello" 처럼 쓸 수 있다. 그 외의 선택 패턴으로는 `[...]` 이 있다. 대괄호 속 문자 중 하나에 매칭하는 것이다. 예를 들어, "[cfh]all" 이라는 패턴은 call, fall, hall 모두 매치될 수 있다. 만약, 선택 패턴 내에서 `^` 이 쓰이면 `not` 의 의미를 가진다.
    
    * `|` : or 연산자를 의미한다
    
    * `[...]` : [  ] 안의 문자(단어 아님)를 매칭한다.

&nbsp;

- **그룹** : `( )괄호` 는 그룹을 나타낸다. 그룹은 전체 패턴 내에서 다시 하나로 묶여지는 패턴 조각을 의미한다. 특히 `|(파이프)` 또는 `수량 한정자`를 그룹에 붙이는 형태로 많이 사용되며, 매치한 그룹이 다시 반복될 경우도 사용할 수 있다.

    * `( )` : () 안의 내용을 캡쳐하며, 그룹을 나타낸다.
    
    * `(?: )` : 비 캡쳐링 그룹을 나타낸다.
    
    ※ 괄호를 써서 묶은 부분은 1번부터 시작하는 그룹으로 참조할 수 있다. 매치한 그룹을 패턴 내에서 재 사용하고 싶다면 , `\1` 과 같이 그룹번호를 역슬래시로 이스케이프 하여 표현한다. 

&nbsp;

- **수량 한정자** : `동일한 문자가 n 개` 만큼 나오는 경우에 수량 한정자를 사용하여 효율적으로 매칭할 수 있다.
    
    * `?` : 있을 수도 있고, 없을 수도 있음을 나타낸다.

    * `*` : 0번 이상 반복을 나타낸다.
    
    * `+` : 1번 이상 반복을 나타낸다.
    
    * `{n}` : n 개 있다.
    
    * `{n, m}` : n 개 이상, m 개 이하의 범위
    
    * `{n, }` : n 개 이상
	
	